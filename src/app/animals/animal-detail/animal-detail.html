@if(mode() === "create") {
<h1>{{ 'app.dialog.create' | translate : { value: ('model.animal.single' | translate) } }}</h1>
} @else {
<h1>{{ 'app.dialog.edit' | translate : { value: ('model.animal.single' | translate) } }}</h1>
}

<div [formGroup]="form" class="form-grid">
  <!-- Species -->
  <mat-form-field appearance="fill" floatLabel="always">
    <mat-label>{{ 'model.animal.species' | translate }}</mat-label>
    <input matInput formControlName="species" #species />
    <mat-hint align="end">{{ species.value.length }} / 60</mat-hint>
    @if (form.get('species')?.hasError('required')) {
    <mat-error>
      {{ 'app.dialog.required' | translate : { value: ('model.animal.species' | translate) } }}
    </mat-error>
    }
  </mat-form-field>

  <!-- Breed -->
  <mat-form-field appearance="fill" floatLabel="always">
    <mat-label>{{ 'model.animal.breed' | translate }}</mat-label>
    <input matInput formControlName="breed" #breed />
    <mat-hint align="end">{{ breed.value.length }} / 60</mat-hint>
    @if (form.get('breed')?.hasError('required')) {
    <mat-error>
      {{ 'app.dialog.required' | translate : { value: ('model.animal.breed' | translate) } }}
    </mat-error>
    }
  </mat-form-field>

  <!-- Birth Date -->
  <mat-form-field appearance="fill" floatLabel="always">
    <mat-label>{{ 'model.animal.birthDate' | translate }}</mat-label>
    <input matInput [matDatepicker]="birthDatePicker" formControlName="birthDate" />
    <mat-hint align="end">MM/DD/YYYY</mat-hint>
    <mat-datepicker-toggle matIconSuffix [for]="birthDatePicker"></mat-datepicker-toggle>
    <mat-datepicker #birthDatePicker></mat-datepicker>
    @if (form.get('birthDate')?.hasError('required')) {
    <mat-error>
      {{ 'app.dialog.required' | translate : { value: ('model.animal.birthDate' | translate) } }}
    </mat-error>
    }
  </mat-form-field>

  <!-- Sex -->
  <div>
    <mat-label>{{ 'model.animal.sex.label' | translate }}</mat-label>
    <br />
    <mat-radio-group formControlName="sex">
      <mat-radio-button value="male">{{ 'model.animal.sex.male' | translate }}</mat-radio-button>
      <mat-radio-button value="female">{{
        'model.animal.sex.female' | translate
      }}</mat-radio-button>
      <mat-radio-button value="unknown">{{
        'model.animal.sex.unknown' | translate
      }}</mat-radio-button>
    </mat-radio-group>
  </div>

  <!-- Intake Date -->
  <mat-form-field appearance="fill" floatLabel="always">
    <mat-label>{{ 'model.animal.intakeDate' | translate }}</mat-label>
    <input matInput [matDatepicker]="intakeDatePicker" formControlName="intakeDate" />
    <mat-hint align="end">MM/DD/YYYY</mat-hint>
    <mat-datepicker-toggle matIconSuffix [for]="intakeDatePicker"></mat-datepicker-toggle>
    <mat-datepicker #intakeDatePicker></mat-datepicker>
    @if (form.get('intakeDate')?.hasError('required')) {
    <mat-error>
      {{ 'app.dialog.required' | translate : { value: ('model.animal.intakeDate' | translate) } }}
    </mat-error>
    }
  </mat-form-field>

  <!-- Health Status -->
  <div>
    <mat-label>{{ 'model.animal.healthStatus.label' | translate }}</mat-label>
    <br />
    <mat-radio-group formControlName="healthStatus">
      <mat-radio-button value="Healthy">{{
        'model.animal.healthStatus.healthy' | translate
      }}</mat-radio-button>
      <mat-radio-button value="Warning">{{
        'model.animal.healthStatus.warning' | translate
      }}</mat-radio-button>
      <mat-radio-button value="Critical">{{
        'model.animal.healthStatus.critical' | translate
      }}</mat-radio-button>
      <mat-radio-button value="Unknown">{{
        'model.animal.healthStatus.unknown' | translate
      }}</mat-radio-button>
    </mat-radio-group>
  </div>

  <!-- EnclosureId -->
  <mat-form-field appearance="fill" floatLabel="always">
    <mat-label>{{ 'model.animal.enclosureId' | translate }}</mat-label>
    <mat-select formControlName="enclosureId" #enclosureId>
      <mat-option>--</mat-option>
      @for (enclosure of enclosures(); track enclosure.id) {
      <mat-option [value]="enclosure.id">{{ enclosure.name }}</mat-option>
      }
    </mat-select>
    @if (form.get('enclosureId')?.hasError('required')) {
    <mat-error>
      {{ 'app.dialog.required' | translate : { value: ('model.animal.enclosureId' | translate) } }}
    </mat-error>
    }
  </mat-form-field>

  <!-- Photos -->
  <div>
    <h2 style="color: red">FIXME: {{ 'model.animal.photos' | translate }} missing</h2>
  </div>

  <!-- Adoptable -->
  <div>
    <mat-checkbox formControlName="adoptable">
      {{ 'model.animal.adoptable' | translate }}
    </mat-checkbox>
  </div>
</div>
